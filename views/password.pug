extends layout

block append head
    script(src=selfURL+"/scripts/PasswordValidatorv2.js")

block content

    div.header
        div
            span Language: English -  Version 0.0.0.1
            
    div.card
        div.card-header
            img(src=selfURL+"/images/AVA_Logo_RGB.png",alt="Avanet Logo")
        div.card-body
            if success
                form(action=avanetURL, method="GET")
                    div(class="alert alert-success")
                        h4(class="alert-heading") 
                            <i class="fa fa-check"></i> 
                            | Success!
                        hr
                        ol(class="instructions")
                            li To sign in to AvaNet, click the button below
                            li Sign in, using your new password
                    div.form-group      
                        input(type="submit",id="accept",class="btn btn-primary btn-block",name="submit",value="Sign in")
            else            
                form(action="/password/set",method="POST")
                    div.form-group
                        input(type="hidden",name="session",value=session)
                        input(type="hidden",name="request",value=request)
                        input(type="hidden",name="csrf_token",value=csrfToken)
                        input(type="hidden",name="_csrf",value=_csrf)
                        input(type="hidden",name="csrf_cookie",value=csrfCookie)
                    div.form-group
                        h3(class="card-title") Change password
                    if error
                        div(class="alert alert-danger")
                            h4(class="alert-heading") 
                                <i class="fa fa-warning"></i> 
                                | Error!
                            hr
                            p #{error_message}
                    div.form-group(class="pass_show")
                        label(for="password") New password
                        input(type="password",class="form-control validate",id="password1",name="password",placeholder="********",value="",maxLength="16")
                    div.form-group(class="pass_show")
                        label(for="confirm") Confirm password
                        input(type="password",class="form-control verify",id="verify1",name="confirm",placeholder="********",value="",maxLength="16")
                    div.form-group      
                        input(type="submit",id="accept",class="btn btn-primary btn-block",name="submit",value="Change password")

    div.footer
        div
            span Â© 2020 Ava Monitoring
            
    script
        include /scripts/password.js
